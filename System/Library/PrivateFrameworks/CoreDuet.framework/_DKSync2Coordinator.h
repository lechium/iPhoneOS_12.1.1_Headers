/*
* This header is generated by classdump-dyld 1.0
* on Saturday, June 1, 2019 at 6:43:55 PM Mountain Standard Time
* Operating System: Version 12.1.1 (Build 16C5050a)
* Image Source: /System/Library/PrivateFrameworks/CoreDuet.framework/CoreDuet
* classdump-dyld is licensed under GPLv3, Copyright Â© 2013-2016 by Elias Limneos.
*/

#import <CoreDuet/CoreDuet-Structs.h>
#import <libobjc.A.dylib/APSConnectionDelegate.h>
#import <libobjc.A.dylib/_DKSyncRemoteKnowledgeStorageFetchDelegate.h>

@protocol _DKKeyValueStore, NSObject, _DKSyncLocalKnowledgeStorage, _DKSyncRemoteKnowledgeStorage;
@class NSUUID, _DKThrottledActivity, NSMutableSet, NSMutableArray, _DKDataProtectionStateMonitor, NSString, _DKSync2State, APSConnection, _CDMutablePerfMetric, _DKSyncToggle, _CDPeriodicSchedulerJob, _DKKnowledgeStorage;

@interface _DKSync2Coordinator : NSObject <APSConnectionDelegate, _DKSyncRemoteKnowledgeStorageFetchDelegate> {

	id<_DKKeyValueStore> _keyValueStore;
	_DKThrottledActivity* _activityThrottler;
	id<NSObject> _observerToken;
	NSMutableSet* _busyTransactions;
	NSMutableArray* _insertedSyncedEvents;
	NSMutableArray* _deletedSyncedEvents;
	NSMutableSet* _activatedPeers;
	_DKDataProtectionStateMonitor* _dataProtectionMonitor;
	BOOL _hasRegisteredOptionalObservers;
	BOOL _isEnabled;
	NSString* _triggeredSyncDelayActivityName;
	NSString* _syncActivityName;
	_DKSync2State* _syncState;
	double _periodicJobInterval;
	BOOL _databaseObserversRegistered;
	BOOL _cloudDeviceCountChangedObserverRegistered;
	BOOL _cloudSyncAvailablityObserverRegistered;
	BOOL _rapportAvailablityObserverRegistered;
	BOOL _siriSyncEnabledObserverRegistered;
	BOOL _syncPolicyChangedObserverRegistered;
	APSConnection* _connection;
	NSMutableSet* _streamNamesObservedForAdditions;
	NSMutableSet* _streamNamesObservedForDeletions;
	_CDMutablePerfMetric* _perfMetric;
	CDPerfEvent _perfEvent;
	_DKSyncToggle* _syncEnabledToggler;
	_DKSyncToggle* _someTransportIsAvailableToggler;
	_DKSyncToggle* _cloudIsAvailableToggler;
	_DKSyncToggle* _rapportIsAvailableToggler;
	_CDPeriodicSchedulerJob* _periodicJob;
	BOOL _isBusy;
	BOOL _hasSyncedUpHistoryToCloud;
	_DKKnowledgeStorage* _storage;
	id<_DKSyncLocalKnowledgeStorage> _localStorage;
	id<_DKSyncRemoteKnowledgeStorage> _transportCloudDown;
	id<_DKSyncRemoteKnowledgeStorage> _transportCloudUp;
	id<_DKSyncRemoteKnowledgeStorage> _transportRapport;

}

@property (readonly) unsigned long long hash; 
@property (readonly) Class superclass; 
@property (copy,readonly) NSString * description; 
@property (copy,readonly) NSString * debugDescription; 
@property (nonatomic,readonly) NSUUID * deviceUUID; 
@property (assign) BOOL isBusy;                                                                 //@synthesize isBusy=_isBusy - In the implementation block
@property (assign,nonatomic) BOOL hasSyncedUpHistoryToCloud;                                    //@synthesize hasSyncedUpHistoryToCloud=_hasSyncedUpHistoryToCloud - In the implementation block
@property (nonatomic,retain) id<_DKSyncLocalKnowledgeStorage> localStorage;                     //@synthesize localStorage=_localStorage - In the implementation block
@property (nonatomic,retain) id<_DKSyncRemoteKnowledgeStorage> transportCloudDown;              //@synthesize transportCloudDown=_transportCloudDown - In the implementation block
@property (nonatomic,retain) id<_DKSyncRemoteKnowledgeStorage> transportCloudUp;                //@synthesize transportCloudUp=_transportCloudUp - In the implementation block
@property (nonatomic,retain) id<_DKSyncRemoteKnowledgeStorage> transportRapport;                //@synthesize transportRapport=_transportRapport - In the implementation block
@property (nonatomic,readonly) _DKKnowledgeStorage * storage;                                   //@synthesize storage=_storage - In the implementation block
+(id)keyValueStoreForDomain:(id)arg1 ;
+(BOOL)isOnPower;
+(void)_updateEventStatsWithSyncType:(id)arg1 ;
+(void)_updateEventStatsWithSyncElapsedTimeStartDate:(id)arg1 endDate:(id)arg2 ;
+(BOOL)shouldDeferSyncOperationWithClass:(Class)arg1 syncType:(id)arg2 transport:(id)arg3 peer:(id)arg4 policy:(id)arg5 ;
+(BOOL)canPerformSyncOperationWithClass:(Class)arg1 syncType:(id)arg2 history:(id)arg3 transport:(id)arg4 peer:(id)arg5 policy:(id)arg6 ;
+(id)streamNamesToTombstone;
+(id)storage;
-(id)initWithStorage:(id)arg1 ;
-(BOOL)isSingleDevice;
-(id)policyForSyncTransportType:(long long)arg1 ;
-(void)_syncEnabledToggle;
-(void)_syncDisabledToggle;
-(void)_someTransportIsAvailableToggle;
-(void)_noTransportIsAvailableToggle;
-(void)_cloudIsAvailableToggle;
-(void)_cloudIsUnavailableToggle;
-(void)_rapportIsAvailableToggle;
-(void)_rapportIsUnavailableToggle;
-(void)handleDataProtectionChangeFor:(id)arg1 willBeAvailable:(BOOL)arg2 ;
-(void)_reregisterPeriodicJob;
-(void)_performSyncTogglesChangedActions;
-(void)_registerSyncPolicyChangedObserver;
-(void)_registerRapportAvailablityObserver;
-(void)_registerCloudSyncAvailablityObserver;
-(void)_registerSiriSyncEnabledObserver;
-(void)_performEnableAndStart;
-(void)_deleteSiriEventsIfSiriCloudSyncHasBeenDisabled;
-(void)_unregisterRapportAvailablityObserver;
-(void)_unregisterCloudSyncAvailablityObserver;
-(void)_unregisterSiriSyncEnabledObserver;
-(void)_registerPeriodicJob;
-(void)_registerDatabaseObservers;
-(void)_unregisterPeriodicJob;
-(void)_unregisterDatabaseObservers;
-(void)_createPushConnection;
-(void)_registerCloudDeviceCountChangedObserver;
-(void)_possiblyPerformInitialSync;
-(void)_destroyPushConnection;
-(void)_unregisterCloudDeviceCountChangedObserver;
-(void)configureTracker;
-(void)setupStorage;
-(void)handleStatusChangeForPeer:(id)arg1 previousTransports:(long long)arg2 ;
-(void)fetchSourceDeviceIDFromPeer:(id)arg1 ;
-(id)createBusyTransactionWithName:(const char*)arg1 ;
-(void)handleFetchedSourceDeviceID:(id)arg1 fromPeer:(id)arg2 error:(id)arg3 ;
-(void)removeBusyTransaction:(id)arg1 ;
-(void)_performSyncWithForceSync:(BOOL)arg1 completion:(/*^block*/id)arg2 ;
-(void)_synchronizeWithUrgency:(unsigned long long)arg1 client:(id)arg2 completion:(/*^block*/id)arg3 ;
-(void)_performSyncWithSyncType:(id)arg1 completion:(/*^block*/id)arg2 ;
-(void)__performSyncWithCompletion:(/*^block*/id)arg1 ;
-(void)setHasSyncedUpHistoryToCloud:(BOOL)arg1 ;
-(void)__finishSyncWithTransaction:(id)arg1 startDate:(id)arg2 completion:(/*^block*/id)arg3 ;
-(void)_performInitialSync;
-(double)_intervalForJobGivenIsSingleDevice:(BOOL)arg1 ;
-(void)_registerPeriodicJobWithInterval:(double)arg1 ;
-(id)_executionCriteriaWithInterval:(double)arg1 ;
-(void)_performPeriodicJob;
-(void)_databaseDidDeleteFromStreamNameCounts:(id)arg1 ;
-(void)_cloudSyncAvailabilityDidChange:(id)arg1 ;
-(void)_syncPolicyDidChange:(id)arg1 ;
-(void)_deleteForeignSiriEvents;
-(void)_deleteSiriCloudEvents;
-(void)_deleteNextBatchOfOurSiriEventsFromCloudWithStartDate:(id)arg1 ;
-(id)sortedEventsWithCreationDateBetweenDate:(id)arg1 andDate:(id)arg2 streamNames:(id)arg3 limit:(unsigned long long)arg4 fetchOrder:(long long)arg5 error:(id*)arg6 ;
-(void)possiblyUpdateIsBusyProperty;
-(void)syncWithReply:(/*^block*/id)arg1 ;
-(void)synchronizeWithUrgency:(unsigned long long)arg1 client:(id)arg2 reply:(/*^block*/id)arg3 ;
-(void)deleteRemoteStateWithReply:(/*^block*/id)arg1 ;
-(void)knowledgeStorage:(id)arg1 didHaveInsertsAndDeletesWithCount:(unsigned long long)arg2 ;
-(void)knowledgeStorage:(id)arg1 didInsertSyncedEvents:(id)arg2 ;
-(void)knowledgeStorage:(id)arg1 didDeleteSyncedEvents:(id)arg2 ;
-(void)knowledgeStorage:(id)arg1 didInsertEventsWithStreamNameCounts:(id)arg2 ;
-(void)knowledgeStorage:(id)arg1 didDeleteEventsWithStreamNameCounts:(id)arg2 ;
-(void)_siriSyncEnabledDidChange;
-(void)_unregisterSyncPolicyChangedObserver;
-(BOOL)hasSyncedUpHistoryToCloud;
-(void)setLocalStorage:(id<_DKSyncLocalKnowledgeStorage>)arg1 ;
-(id<_DKSyncRemoteKnowledgeStorage>)transportCloudDown;
-(void)setTransportCloudDown:(id<_DKSyncRemoteKnowledgeStorage>)arg1 ;
-(id<_DKSyncRemoteKnowledgeStorage>)transportCloudUp;
-(void)setTransportCloudUp:(id<_DKSyncRemoteKnowledgeStorage>)arg1 ;
-(id<_DKSyncRemoteKnowledgeStorage>)transportRapport;
-(void)setTransportRapport:(id<_DKSyncRemoteKnowledgeStorage>)arg1 ;
-(id)deletedEventIDsSinceDate:(id)arg1 streamNames:(id)arg2 limit:(unsigned long long)arg3 endDate:(id*)arg4 error:(id*)arg5 ;
-(id<_DKSyncLocalKnowledgeStorage>)localStorage;
-(NSUUID *)deviceUUID;
-(_DKKnowledgeStorage *)storage;
-(void)connection:(id)arg1 didReceivePublicToken:(id)arg2 ;
-(void)connection:(id)arg1 didReceiveIncomingMessage:(id)arg2 ;
-(void)dealloc;
-(void)start;
-(BOOL)isBusy;
-(void)setIsBusy:(BOOL)arg1 ;
@end

